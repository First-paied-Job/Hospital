@using Hospital.Web.ViewModels.Administration.Dashboard.User

@model ICollection<UserRoleViewModel>

<main class="mt-3">
    <h1 class="text-center suls-text-color">Current clinics</h1>
       
        @foreach (var user in Model)
        {
            <table>
                <tr>
                    <th>User</th>
                    <td>@user.UserEmail</td>
                </tr>
                <tr>
                    @if (user.Roles.Count > 0)
                    {
                        // This user has these roles
                        @foreach (var role in user.Roles)
                        {
                            <th>@role.Name</th>
                            <td>
                                <a href="/Administration/Dashboard/RemoveUserRole?roleId=@role.RoleId&userId=@user.UserId" class="btn forum-go-back-btn text-uppercase">Remove @role.Name role</a>
                            </td>
                        }
                        @for (int i = 0; i < 3 - user.Roles.Count; i++)
                        {
                            <th></th>
                            <td></td>
                        }
                    }
                </tr>
                <tr>
                    @if (user.AvailableRoles.Count > 0)
                    {
                        // This user has these roles
                        @foreach (var role in user.AvailableRoles)
                        {
                            <th>@role.Name</th>
                            <td>
                                <a href="/Administration/Dashboard/AddUserRole?roleId=@role.RoleId&userId=@user.UserId" class="btn forum-go-back-btn text-uppercase">Add @role.Name role</a>
                            </td>
                        }
                        @for (int i = 0; i < 3 - user.AvailableRoles.Count; i++)
                        {
                            <th></th>
                            <td></td>
                        }
                    }
                    

                </tr>
            </table>
            <br />
        }
</main>

<style>
    table {
        font-family: arial, sans-serif;
        border-collapse: collapse;
        width: 100%;
    }

    td, th {
        border: 1px solid #dddddd;
        text-align: left;
        padding: 8px;
    }

    tr:nth-child(even) {
        background-color: #dddddd;
    }
</style>